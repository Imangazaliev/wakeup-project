# Pora Vstavat - –°–≤–æ–¥–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Nest.js** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å TypeScript
- **PostgreSQL** –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å **Drizzle ORM**
- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **Swagger UI** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** —Å class-validator

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–¢–∞–±–ª–∏—Ü–∞ users**: id, name, phone_number, type, created_at
- **–¢–∞–±–ª–∏—Ü–∞ verification_codes**: id, phone_number, code, sent_at
- **–¢–∞–±–ª–∏—Ü–∞ jwt_tokens**: id, user_id, token, is_valid, created_at, expires_at
- **–¢–∞–±–ª–∏—Ü–∞ volunteer_requests**: id, name, phone_number, status, about_self, about_traineeship, processed_by, created_at
- **–ú–∏–≥—Ä–∞—Ü–∏–∏** —Å –ø–æ–º–æ—â—å—é Drizzle Kit

### ‚úÖ API Endpoints

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `POST /users` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /users/me` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å JWT)

#### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /users/send-verification-code` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `POST /users/check-code` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ + –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `GET /` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- `POST /test` - –¢–µ—Å—Ç–æ–≤—ã–π endpoint

#### –í–æ–ª–æ–Ω—Ç–µ—Ä—ã
- `POST /volunteers/create-request` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –≤–æ–ª–æ–Ω—Ç–µ—Ä–∞
- `GET /volunteers/request-status/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏ –ø–æ ID

#### –ö—É—Ä–∞—Ç–æ—Ä—ã
- `GET /curator/volunteer-requests` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫ –≤–æ–ª–æ–Ω—Ç–µ—Ä–æ–≤
- `GET /curator/volunteer-requests/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞—è–≤–∫–µ
- `PUT /curator/volunteer-requests/:id/status` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏

#### –°–µ–º—å–∏ –∏ –ø–µ—Ä—Å–æ–Ω—ã
- `GET /families` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ–º–µ–π
- `GET /families/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ–º—å–µ —Å —á–ª–µ–Ω–∞–º–∏

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **JWT —Ç–æ–∫–µ–Ω—ã** —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è** —Ç–æ–∫–µ–Ω–æ–≤ (7 –¥–Ω–µ–π)

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **Swagger UI** –Ω–∞ `/api`
- **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è** –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** API
- **–ü–æ–¥—Ä–æ–±–Ω—ã–π README** —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
   ```bash
   npm install
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   cp env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ë–î
   npm run db:migrate
   ```

3. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   ```bash
   npm run start:dev
   ```

4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:**
   ```
   http://localhost:3000/api
   ```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ auth/                 # JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ auth.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ auth.service.ts
‚îÇ   ‚îú‚îÄ‚îÄ jwt.strategy.ts
‚îÇ   ‚îú‚îÄ‚îÄ jwt-auth.guard.ts
‚îÇ   ‚îî‚îÄ‚îÄ auth.middleware.ts
‚îú‚îÄ‚îÄ database/            # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ database.module.ts
‚îÇ   ‚îî‚îÄ‚îÄ schema.ts
‚îú‚îÄ‚îÄ users/              # –ú–æ–¥—É–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ users.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ users.service.ts
‚îÇ   ‚îú‚îÄ‚îÄ users.controller.ts
‚îÇ   ‚îî‚îÄ‚îÄ dto/            # Data Transfer Objects
‚îÇ       ‚îú‚îÄ‚îÄ index.ts
‚îÇ       ‚îú‚îÄ‚îÄ create-user.dto.ts
‚îÇ       ‚îú‚îÄ‚îÄ verification.dto.ts
‚îÇ       ‚îî‚îÄ‚îÄ response.dto.ts
‚îú‚îÄ‚îÄ volunteers/         # –ú–æ–¥—É–ª—å –≤–æ–ª–æ–Ω—Ç–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ volunteers.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ volunteers.service.ts
‚îÇ   ‚îú‚îÄ‚îÄ volunteers.controller.ts
‚îÇ   ‚îî‚îÄ‚îÄ dto/           # Data Transfer Objects
‚îÇ       ‚îú‚îÄ‚îÄ index.ts
‚îÇ       ‚îú‚îÄ‚îÄ create-request.dto.ts
‚îÇ       ‚îî‚îÄ‚îÄ response.dto.ts
‚îú‚îÄ‚îÄ curator/           # –ú–æ–¥—É–ª—å –∫—É—Ä–∞—Ç–æ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ curator.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ curator.service.ts
‚îÇ   ‚îú‚îÄ‚îÄ curator.controller.ts
‚îÇ   ‚îú‚îÄ‚îÄ curator.guard.ts
‚îÇ   ‚îî‚îÄ‚îÄ dto/          # Data Transfer Objects
‚îÇ       ‚îî‚îÄ‚îÄ volunteer-requests.dto.ts
‚îú‚îÄ‚îÄ families/          # –ú–æ–¥—É–ª—å —Å–µ–º–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ families.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ families.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ families.controller.ts
‚îú‚îÄ‚îÄ app.controller.ts
‚îú‚îÄ‚îÄ app.service.ts
‚îú‚îÄ‚îÄ app.module.ts
‚îî‚îÄ‚îÄ main.ts
```

## üîß –ö–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run start:dev      # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build          # –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run start:prod     # –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
npm run db:generate    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
npm run db:migrate     # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run db:studio      # Drizzle Studio

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm run test           # Unit —Ç–µ—Å—Ç—ã
npm run test:e2e       # E2E —Ç–µ—Å—Ç—ã
./test-api.sh          # –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
npm run create-curator    # –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –∫—É—Ä–∞—Ç–æ—Ä–∞
npm run seed-families     # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

# –ö–æ–¥
npm run lint           # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
npm run format         # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### JWT –°—Ç—Ä–∞—Ç–µ–≥–∏—è
- –¢–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ class-validator
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ Swagger
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript

### Swagger –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Bearer —Ç–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=pora_vstavat

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
PORT=3000

# JWT
JWT_SECRET=your-super-secret-jwt-key
JWT_EXPIRES_IN=7d
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **–§–∞–π–ª–æ–≤**: ~20
- **Endpoints**: 12
- **–¢–∞–±–ª–∏—Ü –ë–î**: 6
- **DTO –∫–ª–∞—Å—Å–æ–≤**: 11
- **–î–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ Swagger**: 35+

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ. 